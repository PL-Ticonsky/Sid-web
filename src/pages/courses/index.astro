---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";
import Card from "../../components/Card.astro";

const BASE = import.meta.env.BASE_URL;

const courses = await getCollection("courses");
---
<BaseLayout title="SID Â· Cursos">
  <h1 class="font-poppins text-3xl mb-8">Cursos</h1>

  <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
    {courses.map((c) => {
      const slug = c.data.slug ?? c.slug;
      return (
        <Card
          href={`${BASE}courses/${slug}/`}
          title={c.data.title}
          image={c.data.cover}
          ctaLabel="Ver curso"
        />
      );
    })}
  </div>
</BaseLayout>
