---
import BaseLayout from "../layouts/BaseLayout.astro";
import team from "../data/team.json";

const BASE = import.meta.env.BASE_URL;

// helper: soporta rutas "/images/..." y también "images/..." sin romper en GitHub Pages (BASE_URL)
const withBase = (src) => {
  if (!src) return "";
  const clean = String(src).replace(/^public\//, "").replace(/^\//, "");
  return `${BASE}${clean}`;
};
---

<BaseLayout title="SID · Equipo">
  <section class="space-y-10">
    <header class="space-y-3">
      <h1 class="font-poppins text-4xl text-sid-navy">Equipo</h1>
      <p class="max-w-2xl text-slate-700">
        Integrantes principales que lideran las actividades académicas y organizativas del grupo.
      </p>
    </header>

    <div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
      {team.map((member) => (
        <article class="group rounded-3xl border border-gray-200 bg-white p-6 text-center transition hover:-translate-y-0.5 hover:shadow-md">
          <div class="flex justify-center">
            <div class="relative">
              <div class="pointer-events-none absolute -inset-2 rounded-full bg-gradient-to-br from-sid-cyan/25 via-sid-purple/15 to-sid-pink/20 blur-xl opacity-0 transition group-hover:opacity-100"></div>

              <img
                src={withBase(member.image)}
                alt={member.name}
                class="relative h-32 w-32 rounded-full border border-gray-200 object-cover bg-gray-100"
                loading="lazy"
              />
            </div>
          </div>

          <div class="mt-5 space-y-1">
            <h3 class="font-poppins text-lg text-sid-navy">{member.name}</h3>
            <p class="text-sm font-semibold text-sid-purple">{member.role}</p>
          </div>

          <div class="mt-4 flex justify-center gap-3">
            {member.linkedin && (
              <a
                href={member.linkedin}
                target="_blank"
                rel="noopener noreferrer"
                class="inline-flex items-center justify-center rounded-xl border border-gray-200 bg-white px-4 py-2 text-sm font-semibold text-sid-navy transition hover:bg-gray-50"
              >
                LinkedIn
              </a>
            )}

            {member.instagram && (
              <a
                href={member.instagram}
                target="_blank"
                rel="noopener noreferrer"
                class="inline-flex items-center justify-center rounded-xl border border-gray-200 bg-white px-4 py-2 text-sm font-semibold text-sid-navy transition hover:bg-gray-50"
              >
                Instagram
              </a>
            )}
          </div>
        </article>
      ))}
    </div>
  </section>
</BaseLayout>
